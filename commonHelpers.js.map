{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["// function for render pictures\nimport SimpleLightbox from \"simplelightbox\"\nexport { renderGallery, addStartMarkup };\nconst gallery = document.querySelector('.gallery');\n\nfunction renderGallery(images){\n\nconst imageGallary = images\n.map(\n    image =>\n    { \n        const  {webformatURL, largeImageURL, tags, likes, views, comments, downloads} = image;\n   \n   return (`  <li class=\"gallery-item\">\n   <a href=\"${largeImageURL}\">\n     <img \n         class=\"gallery-image\"\n         src=\"${webformatURL}\" alt =\"${tags}\"/>\n     </a>\n   <ul class=\"info-box\">\n     <li class=\"image-info\">\n       <p class=\"info-name\">Likes</p>\n       <p class=\"info-value\">${likes}</p>\n     </li>\n     <li class=\"image-info\">\n       <p class=\"info-name\">Views</p>\n       <p class=\"info-value\">${views}</p>\n     </li>\n     <li class=\"image-info\">\n       <p class=\"info-name\">Comments</p>\n       <p class=\"info-value\">${comments}</p>\n     </li>\n     <li class=\"image-info\">\n       <p class=\"info-name\">Downloads</p>\n       <p class=\"info-value\">${downloads}</p>\n     </li>\n   </ul>\n   </li>\n`)\n})\n  .join(``);\n\n\ngallery.innerHTML= imageGallary;\n\nnew SimpleLightbox('.gallery a');\n}\n\nfunction addStartMarkup(){\n\n    const startMarkup = `<li><span class=\"loader-css\"></span></li>`;\n    gallery.innerHTML= startMarkup;\n}","//  functions for HTTP requests.\n import {renderGallery, addStartMarkup} from \"./render-functions\";\nexport default function fetchPhotos(search,loader){\nconst searchParams = new URLSearchParams({\n    key :\"42747257-6cb1908b03b224c2fc7af7612\",\n    q: `\"${search}\"`,\n    image_type: \"photo\",\n    orientation:\"horizontal\",\n    safesearch:true\n  });\n\n\nconsole.log(`\"https://pixabay.com/api/?${searchParams}\"`)\nfetch(`https://pixabay.com/api/?${searchParams}`)\n  .then((response) => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    let photosObject;\n    return photosObject = response.json()\n  })\n  .then((photosObject) => { console.log(photosObject)\n    const {total, hits} = photosObject\n  \n    if (total>0){\n      renderGallery(hits)\n    } else\n    {\n      addStartMarkup()\n      console.log(\"Sorry, there are no images matching your search query. Please try again!\")\n      }\n\n    \n})\n  .catch((error) => console.log(error));\n\n}\n","import fetchPhotos from'./js/pixabay-api';\n\n\nconst form = document.querySelector('form')\nconst loader = document.querySelector('.loader-css')\n// const gallery = document.querySelector('.gallery');\n\nform.addEventListener(\"input\", inputHandler)\nform.addEventListener(\"submit\", submitHandler)\n\n\n\nlet searchPrase;\nfunction inputHandler(){\n    searchPrase = event.currentTarget.search.value;  \n    // console.log(\" in input: \", searchPrase)  \n}\n\nfunction submitHandler(){\n    event.preventDefault()\n\n    if (searchPrase.trim() === '')\n    {\n        console.log(\"Empty input\")}\n    else {\n    \n        fetchPhotos(searchPrase)\n        loader.classList.add(\"loader\")\n    }\n    \n    form.reset()\n}\n\n"],"names":["gallery","renderGallery","images","imageGallary","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","addStartMarkup","startMarkup","fetchPhotos","search","loader","searchParams","response","photosObject","total","hits","error","form","inputHandler","submitHandler","searchPrase"],"mappings":"svBAGA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAcC,EAAO,CAE9B,MAAMC,EAAeD,EACpB,IACGE,GACA,CACI,KAAO,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAIP,EAErF,MAAQ;AAAA,cACGE,CAAa;AAAA;AAAA;AAAA,gBAGXD,CAAY,WAAWE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,+BAKZC,CAAK;AAAA;AAAA;AAAA;AAAA,+BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,+BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,+BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,CAKxC,CAAC,EACE,KAAK,EAAE,EAGVX,EAAQ,UAAWG,EAEnB,IAAIS,EAAe,YAAY,CAC/B,CAEA,SAASC,GAAgB,CAErB,MAAMC,EAAc,4CACpBd,EAAQ,UAAWc,CACvB,CClDe,SAASC,EAAYC,EAAOC,EAAO,CAClD,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAG,IAAIF,CAAM,IACb,WAAY,QACZ,YAAY,aACZ,WAAW,EACf,CAAG,EAGH,QAAQ,IAAI,6BAA6BE,CAAY,GAAG,EACxD,MAAM,4BAA4BA,CAAY,EAAE,EAC7C,KAAMC,GAAa,CAClB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAsBA,EAAS,KAAM,CACzC,CAAG,EACA,KAAMC,GAAiB,CAAE,QAAQ,IAAIA,CAAY,EAChD,KAAM,CAAC,MAAAC,EAAO,KAAAC,CAAI,EAAIF,EAElBC,EAAM,EACRpB,EAAcqB,CAAI,GAGlBT,EAAgB,EAChB,QAAQ,IAAI,0EAA0E,EAI5F,CAAC,EACE,MAAOU,GAAU,QAAQ,IAAIA,CAAK,CAAC,CAEtC,CCjCA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpCP,EAAS,SAAS,cAAc,aAAa,EAGnDO,EAAK,iBAAiB,QAASC,CAAY,EAC3CD,EAAK,iBAAiB,SAAUE,CAAa,EAI7C,IAAIC,EACJ,SAASF,GAAc,CACnBE,EAAc,MAAM,cAAc,OAAO,KAE7C,CAEA,SAASD,GAAe,CACpB,MAAM,eAAgB,EAElBC,EAAY,KAAI,IAAO,GAEvB,QAAQ,IAAI,aAAa,GAGzBZ,EAAYY,CAAW,EACvBV,EAAO,UAAU,IAAI,QAAQ,GAGjCO,EAAK,MAAO,CAChB"}